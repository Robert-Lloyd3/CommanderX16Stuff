60000 REM SHOW VERA REGISTERS
60010 DIM R$(12),R(12),M(12)

60100 REM *** MAIN ***
60110 REM GET NUMBER OF REGISTERS
60120 READ Z
60130 IF Z=0 THEN END
60140 REM GET DESCRIPTION OF TABLE
60150 REM GET BEGIN AND END VIDEO ADDRESSES
60160 READ D$,B,E
60170 REM GET MULTIPLER FOR EACH REGISTER AND NAME
60180 FOR Y=1 TO Z
60190 READ M(Y),R$(Y)
60200 REM INITIALIZE REGISTER VALUE
60210 R(Y)=0
60220 NEXT Y
60230 REM READ VIDEO MEMORY IN REVERSE
60240 REM MULTIPLIES HIGHER BYTERS BY 256 BEFORE ADDING LOWER BYTES TO R()
60250 FOR Y=E TO B STEP -1
60260 REM OBTAIN VIDEO MEMORY BYTE AND PROCESS IT
60270 D=VPEEK($F,Y) : GOSUB 61530
60280 NEXT Y
60290 REM CONVERT BEGIN AND END ADDRESSES TO HEX STRING
60300 D=B + $F0000 : GOSUB 61030
60310 B$=H$
60320 D=E + $F0000 : GOSUB 61030
60330 E$=H$
60340 REM PRINT REGISTER TABLE HEADER
60350 PRINT B$"-"E$":"D$
60360 REM PRINT REGISTER VALUES
60370 FOR Y=1 TO Z
60380 REM CONVERT REGISTER VALUE TO HEX STRING
60390 D=R(Y) : GOSUB 61030
60400 REM PRINT HEX AND DEC VALUES AND DESCRIPTION OF REGISTER
60410 PRINT H$" "R(Y),R$(Y)
60420 NEXT Y
60430 PRINT
60440 GOTO 60100

60999 END

61000 REM CONVERT DEC TO HEX
61010 REM INPUT:  D  = DECIMAL
61020 REM OUTPUT: H$ = HEX STRING
61030 REM :TOSTRING-HEX
61040 REM IF D>16777215 THEN Q=7 : H$="$" : GOTO 61080
61050 IF D>65535 THEN Q=4 : H$="$" : GOTO 61080
61060 IF D>255 THEN Q=3 : H$="$ " : GOTO 61080
61070 Q=1 : H$="$   "
61080 N=D
61090 FOR I=Q TO 0 STEP -1
61100 V=16^I
61110 GOSUB 62050
61120 IF H<10 THEN H$=H$+CHR$(48+H)
61130 IF H>9 THEN H$=H$+CHR$(55+H)
61140 NEXT I
61150 RETURN

61500 REM SLICE VPEEK BYTES INTO DISTINCT REGISTER VALUES
61510 REM INPUT:  D  = DECIMAL
61520 REM OUTPUT: STORED IN R()
61530 REM :SLICE-BYTES
61540 N=D
61550 READ J,S
61560 V=2^S
61570 GOSUB 62050
61580 IF R(J)>0 THEN R(J)=R(J)*256
61590 R(J)=R(J)+H*M(J)
61600 IF S>0 THEN GOTO 61550
61610 RETURN

62000 REM DIV SHIFT RIGHT
62010 REM INPUT:  N = NUMBER
62020 REM         V = POWER 2 SHIFT
62030 REM OUTPUT: H = DIV QUOTIENT
62040 REM         N = MOD NUMBER AFTER SHIFT
62050 REM :DIV-SHIFT-RIGHT
62060 H=INT(N/V)
62070 N=N-(H*V)
62080 RETURN

63000 DATA 11,"DATA COMPOSER REGISTERS",$0000,$000A
63001 DATA 1,"CURRENT-FIELD(RO)"
63002 DATA 1,"CHROMA-DISABLE"
63003 DATA 1,"OUT-MODE"
63004 DATA 1,"HSCALE"
63005 DATA 1,"VSCALE"
63006 DATA 1,"BORDER-COLOR"
63007 DATA 1,"HSTART"
63008 DATA 1,"HSTOP"
63009 DATA 1,"VSTART"
63010 DATA 1,"VSTOP"
63011 DATA 1,"IRQ-LINE"
63012 DATA 11,0
63013 DATA 11,0
63014 DATA 10,5
63015 DATA 9,4
63016 DATA 8,2
63017 DATA 7,0
63018 DATA 10,0
63019 DATA 9,0
63020 DATA 8,0
63021 DATA 7,0
63022 DATA 6,0
63023 DATA 5,0
63024 DATA 4,0
63025 DATA 1,7
63026 DATA 2,2
63027 DATA 3,0

63030 DATA 10,"LAYER 0 REGISTERS",$2000,$2009
63031 DATA 1,"MODE"
63032 DATA 1,"EN"
63033 DATA 1,"TILEH"
63034 DATA 1,"TILEW"
63035 DATA 1,"MAPH"
63036 DATA 1,"MAPW"
63037 DATA 4,"MAP-BASE"
63038 DATA 4,"TILE-BASE"
63039 DATA 1,"HSCROLL"
63040 DATA 1,"VSCROLL"
63041 DATA 10,0
63042 DATA 10,0
63043 DATA 9,0
63044 DATA 9,0
63045 DATA 8,0
63046 DATA 8,0
63047 DATA 7,0
63048 DATA 7,0
63049 DATA 3,5
63050 DATA 4,4
63051 DATA 5,2
63052 DATA 6,0
63053 DATA 1,5
63054 DATA 2,0

63060 DATA 10,"LAYER 1 REGISTERS",$3000,$3009
63061 DATA 1,"MODE"
63062 DATA 1,"EN"
63063 DATA 1,"TILEH"
63064 DATA 1,"TILEW"
63065 DATA 1,"MAPH"
63066 DATA 1,"MAPW"
63067 DATA 4,"MAP-BASE"
63068 DATA 4,"TILE-BASE"
63069 DATA 1,"HSCROLL"
63070 DATA 1,"VSCROLL"
63071 DATA 10,0
63072 DATA 10,0
63073 DATA 9,0
63074 DATA 9,0
63075 DATA 8,0
63076 DATA 8,0
63077 DATA 7,0
63078 DATA 7,0
63079 DATA 3,5
63080 DATA 4,4
63081 DATA 5,2
63082 DATA 6,0
63083 DATA 1,5
63084 DATA 2,0

63090 DATA 4,"SPRITE REGISTERS",$4000,$4001
63091 DATA 1,"SPR-CTRL"
63092 DATA 1,"EN"
63093 DATA 1,"SPR-COLLISION"
63094 DATA 1,"COLLISION-MASK"
63095 DATA 3,4
63096 DATA 4,0
63097 DATA 1,1
63098 DATA 2,0

63100 DATA 11,"SPRITE 0 ATTRIBUTES",$5000,$5007
63101 DATA 32,"ADDRESS"
63102 DATA 1,"MODE"
63103 DATA 1,"X"
63104 DATA 1,"Y"
63105 DATA 1,"COLLISION MASK"
63106 DATA 1,"Z-DEPTH"
63107 DATA 1,"V-FLIP"
63108 DATA 1,"H-FLIP"
63109 DATA 1,"SPRITE HEIGHT"
63110 DATA 1,"SPRITE WIDTH"
63111 DATA 1,"PALETTE OFFSET"
63112 DATA 9,6
63113 DATA 10,4
63114 DATA 11,0
63115 DATA 5,4
63116 DATA 6,2
63117 DATA 7,1
63118 DATA 8,0
63119 DATA 4,0
63120 DATA 4,0
63121 DATA 3,0
63122 DATA 3,0
63123 DATA 2,7
63124 DATA 1,0
63123 DATA 1,0

63999 DATA 0

